<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>TrailerPark</title>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
    integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
    integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />

  <link
    href="https://fonts.googleapis.com/css2?family=Abel&family=Inter:slnt@-4&family=Playfair+Display:ital,wght@0,400..900;1,400..900&family=Raleway:ital,wght@0,100..900;1,100..900&display=swap"
    rel="stylesheet">

  <link href="style.css" rel="stylesheet" type="text/css" />
  <!-- <style src="style.css"></style> -->
</head>

<body>
  <header>

    <nav>
      <div class="logo">
        <img src="logo.png">
        <ul>
          <li>
            <a href="index.html">Home</a>
          </li>
          <li>
            <a href="trailer_list.html">Trailer Listing</a>
          </li>
          <li>
            <a href="trailer_search.html">Trailer Search</a>
          </li>
          <li>
            <a href="favourites.html" id="fave">Favourites</a>
          </li>
        </ul>
      </div>

      <div class="search">
        <input type="text" placeholder="Search" id="search-bar" onkeyup="search()">
       <ul>
        <li>
          <button class="btn waves-effect waves-light" id="logoutBtn" style="display: none">
            Logout
          </button>
        </li>
        <li>
          <button class="btn waves-effect waves-light" id="loginBtn" >
            Login
          </button>
        </li>
       </ul>
      

        <div class="search-options">
          <div id="results">
            </div>
          </a>
        </div>
      </div>
    </nav>
    
    <div id="holder">
      <h3 id="user"></h3>
      <br><br>
      <h1>TrailerPark</h1>
      <div class="duration">
        <p2>Preview paradise: catch the vibe, catch the trailer</p2>
      </div>
    </div>
    </div>
    <section>
      <h4>Movies</h4>
      <div class="scroll-arrow" onclick="scrollleft()">
        <i class="fa-solid fa-arrow-left"></i>
      </div>
      <div class="scroll-arrow" onclick="scrollRight()">
        <i class="fa-solid fa-arrow-right"></i>
      </div>
      <!-- info from here -->
      <div id="inside">
        <a target="_blank" href="#" class="yt-video">
          <img src="https://cdn.britannica.com/60/182360-050-CD8878D6/Avengers-Age-of-Ultron-Joss-Whedon.jpg" />
          <div class="other_card">
            <img src="https://cdn.britannica.com/60/182360-050-CD8878D6/Avengers-Age-of-Ultron-Joss-Whedon.jpg"
              class="poster" />
            <div class="cont">
              <h5>Title</h5>
            </div>
          </div>
        </a>
      </div>
    </section>
  </header>

  <script type="module">
    import { signIn, logout, auth, setAuthListeners } from './auth.js';
    import {getFavourites, addFavourite, deleteReview} from './data.js';

      let loginBtn = document.querySelector('#loginBtn');
      let logoutBtn = document.querySelector('#logoutBtn');
      let reviewForm = document.querySelector('#reviewForm');

      function setLoggedInUI(){
          M.toast({html: 'Logged In!'})
          document.querySelector('#fave').style.display = 'block';
          document.querySelector('#user').innerHTML = `Signed in Anonymously`;
          document.querySelector('#loginBtn').style.display = 'none';
          document.querySelector('#logoutBtn').style.display = 'inline-block';
      }

      function setLoggedOutUI(){
          M.toast({html: 'Logged Out!'})
          document.querySelector('#fave').style.display = 'none';
          document.querySelector('#user').innerHTML = '';
          document.querySelector('#loginBtn').style.display = 'inline-block';
          document.querySelector('#logoutBtn').style.display = 'none';
      }

      //attatch listeners
      logoutBtn.addEventListener('click', logout);
      loginBtn.addEventListener('click', signIn);
      setAuthListeners(setLoggedInUI, setLoggedOutUI);
    </script>


<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
<script> M.AutoInit(); </script>

  <script src="script.js"></script>
</body>

</html>